(function(e){function d(e){var t=e;$(".sg-size-options a").removeClass("active");e&&t.addClass("active")}function v(){g();b();d($("#sg-size-random"));E(T(r,t))}function m(){E(T(r,t))}function g(){c=!1;clearInterval(l);l=!1}function y(){c=!0;l=setInterval(m,800)}function b(){var e=o.width();h=!1;o.removeClass("hay-mode");$("#sg-gen-container").removeClass("hay-mode");E(Math.floor(e))}function w(){h=!0;$("#sg-gen-container").removeClass("vp-animate").width(r+s);o.removeClass("vp-animate").width(r);window.setTimeout(function(){$("#sg-gen-container").addClass("hay-mode").width(i+s);o.addClass("hay-mode").width(i);setInterval(function(){var e=o.width();x(e)},100)},200)}function E(e,t){var n;e>i?n=i:e<r?n=r:n=e;t===!1?$("#sg-gen-container,#sg-viewport").removeClass("vp-animate"):$("#sg-gen-container,#sg-viewport").addClass("vp-animate");$("#sg-gen-container").width(n+s);o.width(n);x(n);S(n)}function S(e){DataSaver.findValue("vpWidth")?DataSaver.updateValue("vpWidth",e):DataSaver.addValue("vpWidth",e)}function x(e,t,n){if(t=="em"){emSize=e;pxSize=Math.floor(e*f)}else{pxSize=e;emSize=e/f}if(n=="updatePxInput")u.val(pxSize);else if(n=="updateEmInput")a.val(emSize.toFixed(2));else{a.val(emSize.toFixed(2));u.val(pxSize)}}function T(e,t){return Math.random()*(t-e)+e}function N(e){$("#sg-viewport").width(e);$("#sg-gen-container").width(e*1+14);x(e)}var t=document.body.clientWidth,n=document.body.clientHeight,r=240,i=2600,s=14,o=$("#sg-viewport"),u=$(".sg-size-px"),a=$(".sg-size-em"),f=16,l=!1,c=!1,h=!1,p=window.location.hash.replace(/^.*?#/,"");$(e).resize(function(){t=document.body.clientWidth;n=document.body.clientHeight});$(".sg-acc-handle").on("click",function(e){var t=$(this),n=t.next(".sg-acc-panel");e.preventDefault();t.toggleClass("active");n.toggleClass("active")});$("#sg-size-toggle").on("click",function(e){e.preventDefault();$(this).parents("ul").toggleClass("active")});$("#sg-size-s").on("click",function(e){e.preventDefault();g();b();d($(this));E(T(r,500))});$("#sg-size-m").on("click",function(e){e.preventDefault();g();b();d($(this));E(T(500,800))});$("#sg-size-l").on("click",function(e){e.preventDefault();g();b();d($(this));E(T(800,1200))});$("#sg-size-full").on("click",function(e){e.preventDefault();g();b();d($(this));E(t)});$("#sg-size-random").on("click",function(e){e.preventDefault();v();window.location.hash="random"});$("#sg-size-disco").on("click",function(e){e.preventDefault();b();if(c){g();d();window.location.hash=""}else{y();d($(this));window.location.hash="disco"}});$("#sg-size-hay").on("click",function(e){e.preventDefault();g();if(h){b();d();window.location.hash=""}else{w();d($(this));window.location.hash="hay"}});u.on("keydown",function(e){var t=Math.floor($(this).val());if(e.keyCode===38){t++;E(t,!1)}else if(e.keyCode===40){t--;E(t,!1)}else if(e.keyCode===13){e.preventDefault();E(t);$(this).blur()}d()});u.on("keyup",function(){var e=Math.floor($(this).val());x(e,"px","updateEmInput")});a.on("keydown",function(e){var t=parseFloat($(this).val());if(e.keyCode===38){t++;E(Math.floor(t*f),!1)}else if(e.keyCode===40){t--;E(Math.floor(t*f),!1)}else if(e.keyCode===13){e.preventDefault();E(Math.floor(t*f))}d()});a.on("keyup",function(){var e=parseFloat($(this).val());x(e,"em","updatePxInput")});$("#sg-mq a").on("click",function(e){e.preventDefault();var t=$(this).html(),n=t.indexOf("px")!==-1?"px":"em";t=t.replace(n,"");var r=n==="px"?t*1:t*f;E(r,!0)});$("#sg-rightpull").mousedown(function(e){var t=e.clientX,n=o.width();$("#sg-cover").css("display","block");$("#sg-cover").mousemove(function(e){viewportWidth=t>e.clientX?n-(t-e.clientX)*2:n+(e.clientX-t)*2;if(viewportWidth>r){DataSaver.findValue("vpWidth")?DataSaver.updateValue("vpWidth",viewportWidth):DataSaver.addValue("vpWidth",viewportWidth);E(viewportWidth,!1)}})});$("body").mouseup(function(e){$("#sg-cover").unbind("mousemove");$("#sg-cover").css("display","none")});var C=$("#sg-viewport").width();$("#sg-gen-container").width(C);$("#sg-viewport").width(C-14);x($("#sg-viewport").width());var k=urlHandler.getRequestVars(),L=0,A=!0;if(k.h!=undefined||k.hay!=undefined)w();else if(k.d!=undefined||k.disco!=undefined)y();else if(k.w!=undefined||k.width!=undefined){L=k.w!=undefined?k.w:k.width;L=L.indexOf("em")!==-1?Math.floor(Math.floor(L.replace("em",""))*f):Math.floor(L.replace("px",""));DataSaver.updateValue("vpWidth",L);N(L)}else A&&(L=DataSaver.findValue("vpWidth"))&&N(L);p==="hay"?w():p==="disco"?y():p==="random"&&v()})(this);